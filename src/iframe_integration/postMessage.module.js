var contacts = [{
  "contacts": [{
    "email": "another@boa.com",
    "name": "another contact (ACME)",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:581",
    "properties": {
      "firstName": "another",
      "lastName": "contact",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:581"
  }, {
    "email": "test@test.com",
    "name": "Contact, Test",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:481",
    "properties": {
      "firstName": "Test",
      "lastName": "Contact",
      "namePrefix": "M"
    },
    "tags": [{
      "name": "test"
    }, {
      "name": "test2"
    }],
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:481"
  }, {
    "email": "another@boa.com",
    "name": "another contact",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:1280",
    "properties": {
      "firstName": "another",
      "lastName": "contact",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:1280"
  }, {
    "email": "subcontact@test.com",
    "name": "test, subcontact",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:902",
    "properties": {
      "firstName": "subcontact",
      "lastName": "test",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:902"
  }, {
    "email": "other3@bla.com",
    "name": "bla, other3",
    "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:280",
    "properties": {
      "firstName": "other3",
      "lastName": "bla",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:280"
  }, {
    "email": "otherserver@bla.com",
    "name": "bla, otherserver",
    "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:257",
    "properties": {
      "firstName": "otherserver",
      "lastName": "bla",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:257"
  }, {
    "email": "other2@bla.com",
    "name": "bla, other2",
    "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:261",
    "properties": {
      "firstName": "other2",
      "lastName": "bla",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:261"
  }, {
    "email": "other4@bla.com",
    "name": "bla, other4",
    "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:281",
    "properties": {
      "firstName": "other4",
      "lastName": "bla",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:281"
  }, {
    "email": "shared@bla.com",
    "name": "shared contact",
    "id": "2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:261",
    "properties": {
      "firstName": "shared",
      "lastName": "contact",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:261"
  }, {
    "email": "subshared@bla.com",
    "name": "contact, subshared",
    "id": "2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:323",
    "properties": {
      "firstName": "subshared",
      "lastName": "contact",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:323"
  }, {
    "email": "abra@pokemon.munch",
    "name": "Abra",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2150",
    "properties": {
      "firstName": "Abra",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2150"
  }, {
    "email": "aspicot@pokemon.munch",
    "name": "Aspicot",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2136",
    "properties": {
      "firstName": "Aspicot",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2136"
  }, {
    "email": "bulbizarre@pokemon.munch",
    "name": "Bulbizarre",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2132",
    "properties": {
      "firstName": "Bulbizarre",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2132"
  }, {
    "email": "carapuce@pokemon.munch",
    "name": "Carapuce",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2134",
    "properties": {
      "firstName": "Carapuce",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2134"
  }, {
    "email": "chenipan@pokemon.munch",
    "name": "Chenipan",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2135",
    "properties": {
      "firstName": "Chenipan",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2135"
  }, {
    "email": "miaous@pokemon.munch",
    "name": "Miaous",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2148",
    "properties": {
      "firstName": "Miaous",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2148"
  }, {
    "email": "nidoran@pokemon.munch",
    "name": "Nidoran",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2146",
    "properties": {
      "firstName": "Nidoran",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2146"
  }, {
    "email": "onyx@pokemon.munch",
    "name": "Onyx",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2149",
    "properties": {
      "firstName": "Onyx",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2149"
  }, {
    "email": "pikachu@pokemon.munch",
    "name": "Pikachu",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2147",
    "properties": {
      "firstName": "Pikachu",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2147"
  }, {
    "email": "salameche@pokemon.munch",
    "name": "Salameche",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2133",
    "properties": {
      "firstName": "Salameche",
      "lastName": "",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2133"
  }, {
    "email": "fromuser3@bla.com",
    "name": "bla, fromuser3",
    "id": "518d1f72-85b3-4a33-be24-2390f7e1eead:257",
    "properties": {
      "firstName": "fromuser3",
      "lastName": "bla",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:518d1f72-85b3-4a33-be24-2390f7e1eead:257"
  }, {
    "email": "fromuser4@bla.com",
    "name": "bla, fromuser4",
    "id": "c94c9ebe-a6cf-479f-8663-35981acdb166:257",
    "properties": {
      "firstName": "fromuser4",
      "lastName": "bla",
      "namePrefix": ""
    },
    "source_type": "zimbra-contact",
    "source_ref": "contact:c94c9ebe-a6cf-479f-8663-35981acdb166:257"
  }],
  "groups": [{
    "name": "Group 1",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:1121",
    "members": [{
      "email": "test@test.com",
      "properties": {
        "firstName": "Test",
        "lastName": "Contact",
        "namePrefix": "M"
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
    }, {
      "email": "inline@test.com",
      "properties": {
        "firstName": "",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
    }, {
      "email": "invalid2@bla.com",
      "properties": {
        "firstName": "",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
    }, {
      "email": "invalid3@bla",
      "properties": {
        "firstName": "",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
    }, {
      "email": "subcontact@test.com",
      "properties": {
        "firstName": "subcontact",
        "lastName": "test",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
    }, {
      "email": "test2@zimbra86.bigman",
      "properties": {
        "firstName": "",
        "lastName": "test2",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
    }]
  }, {
    "name": "Group with shared",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:1122",
    "members": [{
      "email": "another@boa.com",
      "properties": {
        "firstName": "another",
        "lastName": "contact",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1122"
    }, {
      "email": "shared@bla.com",
      "properties": {
        "firstName": "shared",
        "lastName": "contact",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1122"
    }]
  }, {
    "name": "OtherGroup",
    "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:282",
    "members": [{
      "email": "other2@bla.com",
      "properties": {
        "firstName": "other2",
        "lastName": "bla",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
    }, {
      "email": "other3@bla.com",
      "properties": {
        "firstName": "other3",
        "lastName": "bla",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
    }, {
      "email": "other4@bla.com",
      "properties": {
        "firstName": "other4",
        "lastName": "bla",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
    }, {
      "email": "otherserver@bla.com",
      "properties": {
        "firstName": "otherserver",
        "lastName": "bla",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
    }]
  }, {
    "name": "Shared group",
    "id": "2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:340",
    "members": [{
      "email": "subshared@bla.com",
      "properties": {
        "firstName": "subshared",
        "lastName": "contact",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:340"
    }, {
      "email": "shared@bla.com",
      "properties": {
        "firstName": "shared",
        "lastName": "contact",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:340"
    }]
  }, {
    "name": "Insecte",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2137",
    "members": [{
      "email": "aspicot@pokemon.munch",
      "properties": {
        "firstName": "Aspicot",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2137"
    }, {
      "email": "chenipan@pokemon.munch",
      "properties": {
        "firstName": "Chenipan",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2137"
    }]
  }, {
    "name": "Starter",
    "id": "d4cea795-3184-47e2-a281-ddaddb150178:2138",
    "members": [{
      "email": "bulbizarre@pokemon.munch",
      "properties": {
        "firstName": "Bulbizarre",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
    }, {
      "email": "carapuce@pokemon.munch",
      "properties": {
        "firstName": "Carapuce",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
    }, {
      "email": "salameche@pokemon.munch",
      "properties": {
        "firstName": "Salameche",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
    }]
  }, {
    "name": "User3 Group",
    "id": "518d1f72-85b3-4a33-be24-2390f7e1eead:280",
    "members": [{
      "email": "fromuser3@bla.com",
      "properties": {
        "firstName": "fromuser3",
        "lastName": "bla",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:518d1f72-85b3-4a33-be24-2390f7e1eead:280"
    }, {
      "email": "user3-group-inline@bla.com",
      "properties": {
        "firstName": "",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:518d1f72-85b3-4a33-be24-2390f7e1eead:280"
    }],
    "failed": [{
      "type": "CONTACT_REF",
      "value": "258"
    }]
  }, {
    "name": "User4 Group",
    "id": "c94c9ebe-a6cf-479f-8663-35981acdb166:260",
    "members": [{
      "email": "fromuser4@bla.com",
      "properties": {
        "firstName": "fromuser4",
        "lastName": "bla",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:c94c9ebe-a6cf-479f-8663-35981acdb166:260"
    }, {
      "email": "user4-group-inline@bla.com",
      "properties": {
        "firstName": "",
        "lastName": "",
        "namePrefix": ""
      },
      "source_type": "zimbra-group",
      "source_ref": "group:c94c9ebe-a6cf-479f-8663-35981acdb166:260"
    }],
    "failed": [{
      "type": "CONTACT_REF",
      "value": "258"
    }]
  }],
  "existing": {
    "contacts": [{}],
    "groups": [{}],
    "dls": [{}]
  },
  "dls": [{
    "id": "b8068547-efc8-4aaa-b361-8a3531790f77",
    "name": "Hidden in GAL",
    "email": "hidden@zimbra86.bigman",
    "members": [{
      "email": "footballfish@zimbratest2.example.com",
      "properties": {
        "firstName": "",
        "lastName": "footballfish"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
    }, {
      "email": "emperor@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "emperor"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
    }, {
      "email": "dorado@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "dorado"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
    }, {
      "email": "carp@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "carp"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
    }]
  }, {
    "id": "ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a",
    "name": "Loop nesting",
    "email": "loop@zimbra86.bigman",
    "members": [{
      "email": "dorado@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "dorado"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:a057d6d4-74dc-43c3-bd10-dd69411946f1"
    }, {
      "email": "barracuda@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "barracuda"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:a057d6d4-74dc-43c3-bd10-dd69411946f1"
    }, {
      "email": "barracuda@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "barracuda"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a"
    }, {
      "email": "carp@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "carp"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:c2b19a1f-a2f9-4116-8e7a-9beff213fcaa"
    }]
  }, {
    "id": "894db64f-1f89-4356-8920-28ebf7353dcd",
    "email": "list-no-name@zimbra86.bigman",
    "members": [{
      "email": "barracuda@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "barracuda"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:894db64f-1f89-4356-8920-28ebf7353dcd:894db64f-1f89-4356-8920-28ebf7353dcd"
    }, {
      "email": "carp@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "carp"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:894db64f-1f89-4356-8920-28ebf7353dcd:894db64f-1f89-4356-8920-28ebf7353dcd"
    }]
  }, {
    "id": "14b87b9f-0dcc-471c-8c0e-d2b123e1580c",
    "name": "Admin is Owner",
    "email": "owner@zimbra86.bigman",
    "members": [{
      "email": "dorado@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "dorado"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:14b87b9f-0dcc-471c-8c0e-d2b123e1580c:14b87b9f-0dcc-471c-8c0e-d2b123e1580c"
    }, {
      "email": "barracuda@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "barracuda"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:14b87b9f-0dcc-471c-8c0e-d2b123e1580c:14b87b9f-0dcc-471c-8c0e-d2b123e1580c"
    }, {
      "email": "carp@zimbratest.example.com",
      "properties": {
        "firstName": "",
        "lastName": "carp"
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:14b87b9f-0dcc-471c-8c0e-d2b123e1580c:14b87b9f-0dcc-471c-8c0e-d2b123e1580c"
    }]
  }, {
    "id": "9c08c542-1063-47e8-8514-4c88bc2d41e5",
    "name": "DL pokemon",
    "email": "listing-pkmn@zimbra86.bigman",
    "members": [{
      "email": "soporifik@pokemon.munch",
      "properties": {
        "firstName": "",
        "lastName": ""
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
    }, {
      "email": "mimitoss@pokemon.munch",
      "properties": {
        "firstName": "",
        "lastName": ""
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
    }, {
      "email": "rhinocorne@pokemon.munch",
      "properties": {
        "firstName": "",
        "lastName": ""
      },
      "source_type": "zimbra-dl",
      "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
    }]
  }],
  "remaining": {},
  "tags": [{
    "name": "test2",
    "color": "#5B9BF2"
  }, {
    "name": "test",
    "color": "#FDBC55"
  }],
  "timer": "344.6 ms"
}];

var tree = [{
    "tree": {
        "Contacts": {
            "_attrs": {
                "isShare": false,
                "color": "#000000"
            },
            "contacts": [{
                "email": "another@boa.com",
                "name": "another contact",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:581",
                "properties": {
                    "firstName": "another",
                    "lastName": "contact",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:581"
            }, {
                "email": "test@test.com",
                "name": "Contact, Test",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:481",
                "properties": {
                    "firstName": "Test",
                    "lastName": "Contact",
                    "namePrefix": "M"
                },
                "tags": [{
                    "name": "test"
                }, {
                    "name": "test2"
                }],
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:481"
            }],
            "groups": [{
                "name": "Group 1",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:1121",
                "members": [{
                    "email": "test@test.com",
                    "properties": {
                        "firstName": "Test",
                        "lastName": "Contact",
                        "namePrefix": "M"
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
                }, {
                    "email": "inline@test.com",
                    "properties": {
                        "firstName": "",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
                }, {
                    "email": "invalid2@bla.com",
                    "properties": {
                        "firstName": "",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
                }, {
                    "email": "invalid3@bla",
                    "properties": {
                        "firstName": "",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
                }, {
                    "email": "subcontact@test.com",
                    "properties": {
                        "firstName": "subcontact",
                        "lastName": "test",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
                }, {
                    "email": "test2@zimbra86.bigman",
                    "properties": {
                        "firstName": "",
                        "lastName": "test2",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1121"
                }]
            }],
            "_subfolders": {
                "Subfolder": {
                    "_attrs": {
                        "isShare": false,
                        "color": "#000000"
                    },
                    "contacts": [{
                        "email": "another@boa.com",
                        "name": "another contact",
                        "id": "d4cea795-3184-47e2-a281-ddaddb150178:1280",
                        "properties": {
                            "firstName": "another",
                            "lastName": "contact",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:1280"
                    }, {
                        "email": "subcontact@test.com",
                        "name": "test, subcontact",
                        "id": "d4cea795-3184-47e2-a281-ddaddb150178:902",
                        "properties": {
                            "firstName": "subcontact",
                            "lastName": "test",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:902"
                    }],
                    "groups": [{
                        "name": "Group with shared",
                        "id": "d4cea795-3184-47e2-a281-ddaddb150178:1122",
                        "members": [{
                            "email": "another@boa.com",
                            "properties": {
                                "firstName": "another",
                                "lastName": "contact",
                                "namePrefix": ""
                            },
                            "source_type": "zimbra-group",
                            "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1122"
                        }, {
                            "email": "shared@bla.com",
                            "properties": {
                                "firstName": "shared",
                                "lastName": "contact",
                                "namePrefix": ""
                            },
                            "source_type": "zimbra-group",
                            "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:1122"
                        }]
                    }],
                    "_subfolders": {}
                }
            }
        },
        "Contacts de user2": {
            "_attrs": {
                "isShare": true,
                "color": "#000000"
            },
            "contacts": [{
                "email": "other3@bla.com",
                "name": "bla, other3",
                "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:280",
                "properties": {
                    "firstName": "other3",
                    "lastName": "bla",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:280"
            }, {
                "email": "otherserver@bla.com",
                "name": "bla, otherserver",
                "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:257",
                "properties": {
                    "firstName": "otherserver",
                    "lastName": "bla",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:257"
            }],
            "groups": [{
                "name": "OtherGroup",
                "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:282",
                "members": [{
                    "email": "other2@bla.com",
                    "properties": {
                        "firstName": "other2",
                        "lastName": "bla",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
                }, {
                    "email": "other3@bla.com",
                    "properties": {
                        "firstName": "other3",
                        "lastName": "bla",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
                }, {
                    "email": "other4@bla.com",
                    "properties": {
                        "firstName": "other4",
                        "lastName": "bla",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
                }, {
                    "email": "otherserver@bla.com",
                    "properties": {
                        "firstName": "otherserver",
                        "lastName": "bla",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:5dea8ef6-88fc-4db4-904e-2951d2764174:282"
                }]
            }],
            "_subfolders": {
                "sub-otherserver": {
                    "_attrs": {
                        "isShare": true,
                        "color": "#000000"
                    },
                    "contacts": [{
                        "email": "other2@bla.com",
                        "name": "bla, other2",
                        "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:261",
                        "properties": {
                            "firstName": "other2",
                            "lastName": "bla",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:261"
                    }, {
                        "email": "other4@bla.com",
                        "name": "bla, other4",
                        "id": "5dea8ef6-88fc-4db4-904e-2951d2764174:281",
                        "properties": {
                            "firstName": "other4",
                            "lastName": "bla",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:5dea8ef6-88fc-4db4-904e-2951d2764174:281"
                    }],
                    "groups": [{}],
                    "_subfolders": {}
                }
            }
        },
        "Partage de admin@zimbratest.example.com": {
            "_attrs": {
                "isShare": true,
                "color": "#000000"
            },
            "contacts": [{
                "email": "shared@bla.com",
                "name": "shared contact",
                "id": "2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:261",
                "properties": {
                    "firstName": "shared",
                    "lastName": "contact",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:261"
            }],
            "groups": [{
                "name": "Shared group",
                "id": "2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:340",
                "members": [{
                    "email": "subshared@bla.com",
                    "properties": {
                        "firstName": "subshared",
                        "lastName": "contact",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:340"
                }, {
                    "email": "shared@bla.com",
                    "properties": {
                        "firstName": "shared",
                        "lastName": "contact",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:340"
                }]
            }],
            "_subfolders": {
                "Sub Shared": {
                    "_attrs": {
                        "isShare": true,
                        "color": "#000000"
                    },
                    "contacts": [{
                        "email": "subshared@bla.com",
                        "name": "contact, subshared",
                        "id": "2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:323",
                        "properties": {
                            "firstName": "subshared",
                            "lastName": "contact",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:2bee3bbf-d9c5-424d-9492-4cbe5329bc4b:323"
                    }],
                    "groups": [{}],
                    "_subfolders": {}
                }
            }
        },
        "Test Thomas": {
            "_attrs": {
                "isShare": false,
                "color": "#000000"
            },
            "contacts": [{
                "email": "abra@pokemon.munch",
                "name": "Abra",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2150",
                "properties": {
                    "firstName": "Abra",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2150"
            }, {
                "email": "aspicot@pokemon.munch",
                "name": "Aspicot",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2136",
                "properties": {
                    "firstName": "Aspicot",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2136"
            }, {
                "email": "bulbizarre@pokemon.munch",
                "name": "Bulbizarre",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2132",
                "properties": {
                    "firstName": "Bulbizarre",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2132"
            }, {
                "email": "carapuce@pokemon.munch",
                "name": "Carapuce",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2134",
                "properties": {
                    "firstName": "Carapuce",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2134"
            }, {
                "email": "chenipan@pokemon.munch",
                "name": "Chenipan",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2135",
                "properties": {
                    "firstName": "Chenipan",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2135"
            }, {
                "email": "miaous@pokemon.munch",
                "name": "Miaous",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2148",
                "properties": {
                    "firstName": "Miaous",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2148"
            }, {
                "email": "nidoran@pokemon.munch",
                "name": "Nidoran",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2146",
                "properties": {
                    "firstName": "Nidoran",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2146"
            }, {
                "email": "onyx@pokemon.munch",
                "name": "Onyx",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2149",
                "properties": {
                    "firstName": "Onyx",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2149"
            }, {
                "email": "pikachu@pokemon.munch",
                "name": "Pikachu",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2147",
                "properties": {
                    "firstName": "Pikachu",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2147"
            }, {
                "email": "salameche@pokemon.munch",
                "name": "Salameche",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2133",
                "properties": {
                    "firstName": "Salameche",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-contact",
                "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2133"
            }],
            "groups": [{
                "name": "Insecte",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2137",
                "members": [{
                    "email": "aspicot@pokemon.munch",
                    "properties": {
                        "firstName": "Aspicot",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2137"
                }, {
                    "email": "chenipan@pokemon.munch",
                    "properties": {
                        "firstName": "Chenipan",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2137"
                }]
            }, {
                "name": "Starter",
                "id": "d4cea795-3184-47e2-a281-ddaddb150178:2138",
                "members": [{
                    "email": "bulbizarre@pokemon.munch",
                    "properties": {
                        "firstName": "Bulbizarre",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
                }, {
                    "email": "carapuce@pokemon.munch",
                    "properties": {
                        "firstName": "Carapuce",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
                }, {
                    "email": "salameche@pokemon.munch",
                    "properties": {
                        "firstName": "Salameche",
                        "lastName": "",
                        "namePrefix": ""
                    },
                    "source_type": "zimbra-group",
                    "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
                }]
            }],
            "_subfolders": {}
        },
        "User3": {
            "_attrs": {
                "isShare": true,
                "color": "#000000"
            },
            "contacts": [{}],
            "groups": [{}],
            "_subfolders": {
                "Contacts": {
                    "_attrs": {
                        "isShare": true,
                        "color": "#000000"
                    },
                    "contacts": [{
                        "email": "fromuser3@bla.com",
                        "name": "bla, fromuser3",
                        "id": "518d1f72-85b3-4a33-be24-2390f7e1eead:257",
                        "properties": {
                            "firstName": "fromuser3",
                            "lastName": "bla",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:518d1f72-85b3-4a33-be24-2390f7e1eead:257"
                    }],
                    "groups": [{
                        "name": "User3 Group",
                        "id": "518d1f72-85b3-4a33-be24-2390f7e1eead:280",
                        "members": [{
                            "email": "fromuser3@bla.com",
                            "properties": {
                                "firstName": "fromuser3",
                                "lastName": "bla",
                                "namePrefix": ""
                            },
                            "source_type": "zimbra-group",
                            "source_ref": "group:518d1f72-85b3-4a33-be24-2390f7e1eead:280"
                        }, {
                            "email": "user3-group-inline@bla.com",
                            "properties": {
                                "firstName": "",
                                "lastName": "",
                                "namePrefix": ""
                            },
                            "source_type": "zimbra-group",
                            "source_ref": "group:518d1f72-85b3-4a33-be24-2390f7e1eead:280"
                        }],
                        "failed": [{
                            "type": "CONTACT_REF",
                            "value": "258"
                        }]
                    }],
                    "_subfolders": {}
                }
            }
        },
        "User4": {
            "_attrs": {
                "isShare": true,
                "color": "#000000"
            },
            "contacts": [{}],
            "groups": [{}],
            "_subfolders": {
                "Contacts": {
                    "_attrs": {
                        "isShare": true,
                        "color": "#000000"
                    },
                    "contacts": [{
                        "email": "fromuser4@bla.com",
                        "name": "bla, fromuser4",
                        "id": "c94c9ebe-a6cf-479f-8663-35981acdb166:257",
                        "properties": {
                            "firstName": "fromuser4",
                            "lastName": "bla",
                            "namePrefix": ""
                        },
                        "source_type": "zimbra-contact",
                        "source_ref": "contact:c94c9ebe-a6cf-479f-8663-35981acdb166:257"
                    }],
                    "groups": [{
                        "name": "User4 Group",
                        "id": "c94c9ebe-a6cf-479f-8663-35981acdb166:260",
                        "members": [{
                            "email": "fromuser4@bla.com",
                            "properties": {
                                "firstName": "fromuser4",
                                "lastName": "bla",
                                "namePrefix": ""
                            },
                            "source_type": "zimbra-group",
                            "source_ref": "group:c94c9ebe-a6cf-479f-8663-35981acdb166:260"
                        }, {
                            "email": "user4-group-inline@bla.com",
                            "properties": {
                                "firstName": "",
                                "lastName": "",
                                "namePrefix": ""
                            },
                            "source_type": "zimbra-group",
                            "source_ref": "group:c94c9ebe-a6cf-479f-8663-35981acdb166:260"
                        }],
                        "failed": [{
                            "type": "CONTACT_REF",
                            "value": "258"
                        }]
                    }],
                    "_subfolders": {}
                }
            }
        }
    },
    "existing": {
        "contacts": [{
            "email": "aspicot@pokemon.munch",
            "name": "Aspicot",
            "id": "d4cea795-3184-47e2-a281-ddaddb150178:2136",
            "properties": {
                "firstName": "Aspicot",
                "lastName": "",
                "namePrefix": ""
            },
            "source_type": "zimbra-contact",
            "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2136"
        }, {
            "email": "chenipan@pokemon.munch",
            "name": "Chenipan",
            "id": "d4cea795-3184-47e2-a281-ddaddb150178:2135",
            "properties": {
                "firstName": "Chenipan",
                "lastName": "",
                "namePrefix": ""
            },
            "source_type": "zimbra-contact",
            "source_ref": "contact:d4cea795-3184-47e2-a281-ddaddb150178:2135"
        }],
        "groups": [{
            "name": "Starter",
            "id": "d4cea795-3184-47e2-a281-ddaddb150178:2138",
            "members": [{
                "email": "bulbizarre@pokemon.munch",
                "properties": {
                    "firstName": "Bulbizarre",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-group",
                "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
            }, {
                "email": "carapuce@pokemon.munch",
                "properties": {
                    "firstName": "Carapuce",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-group",
                "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
            }, {
                "email": "salameche@pokemon.munch",
                "properties": {
                    "firstName": "Salameche",
                    "lastName": "",
                    "namePrefix": ""
                },
                "source_type": "zimbra-group",
                "source_ref": "group:d4cea795-3184-47e2-a281-ddaddb150178:2138"
            }]
        }],
        "dls": [{
            "id": "9c08c542-1063-47e8-8514-4c88bc2d41e5",
            "name": "DL pokemon",
            "email": "listing-pkmn@zimbra86.bigman",
            "members": [{
                "email": "soporifik@pokemon.munch",
                "properties": {
                    "firstName": "",
                    "lastName": ""
                },
                "source_type": "zimbra-dl",
                "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
            }, {
                "email": "rhinocorne@pokemon.munch",
                "properties": {
                    "firstName": "",
                    "lastName": ""
                },
                "source_type": "zimbra-dl",
                "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
            }, {
                "email": "mimitoss@pokemon.munch",
                "properties": {
                    "firstName": "",
                    "lastName": ""
                },
                "source_type": "zimbra-dl",
                "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
            }]
        }]
    },
    "dls": [{
        "id": "894db64f-1f89-4356-8920-28ebf7353dcd",
        "email": "list-no-name@zimbra86.bigman",
        "members": [{
            "email": "barracuda@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "barracuda"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:894db64f-1f89-4356-8920-28ebf7353dcd:894db64f-1f89-4356-8920-28ebf7353dcd"
        }, {
            "email": "carp@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "carp"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:894db64f-1f89-4356-8920-28ebf7353dcd:894db64f-1f89-4356-8920-28ebf7353dcd"
        }]
    }, {
        "id": "9c08c542-1063-47e8-8514-4c88bc2d41e5",
        "name": "DL pokemon",
        "email": "listing-pkmn@zimbra86.bigman",
        "members": [{
            "email": "soporifik@pokemon.munch",
            "properties": {
                "firstName": "",
                "lastName": ""
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
        }, {
            "email": "rhinocorne@pokemon.munch",
            "properties": {
                "firstName": "",
                "lastName": ""
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
        }, {
            "email": "mimitoss@pokemon.munch",
            "properties": {
                "firstName": "",
                "lastName": ""
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:9c08c542-1063-47e8-8514-4c88bc2d41e5:9c08c542-1063-47e8-8514-4c88bc2d41e5"
        }]
    }, {
        "id": "ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a",
        "name": "Loop nesting",
        "email": "loop@zimbra86.bigman",
        "members": [{
            "email": "barracuda@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "barracuda"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a"
        }, {
            "email": "carp@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "carp"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:c2b19a1f-a2f9-4116-8e7a-9beff213fcaa"
        }, {
            "email": "dorado@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "dorado"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:a057d6d4-74dc-43c3-bd10-dd69411946f1"
        }, {
            "email": "barracuda@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "barracuda"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:ef0d096d-8fc7-4fbd-a3b2-2f928f2dcf1a:a057d6d4-74dc-43c3-bd10-dd69411946f1"
        }]
    }, {
        "id": "b8068547-efc8-4aaa-b361-8a3531790f77",
        "name": "Hidden in GAL",
        "email": "hidden@zimbra86.bigman",
        "members": [{
            "email": "carp@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "carp"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
        }, {
            "email": "dorado@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "dorado"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
        }, {
            "email": "footballfish@zimbratest2.example.com",
            "properties": {
                "firstName": "",
                "lastName": "footballfish"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
        }, {
            "email": "emperor@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "emperor"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:b8068547-efc8-4aaa-b361-8a3531790f77:b8068547-efc8-4aaa-b361-8a3531790f77"
        }]
    }, {
        "id": "14b87b9f-0dcc-471c-8c0e-d2b123e1580c",
        "name": "Admin is Owner",
        "email": "owner@zimbra86.bigman",
        "members": [{
            "email": "dorado@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "dorado"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:14b87b9f-0dcc-471c-8c0e-d2b123e1580c:14b87b9f-0dcc-471c-8c0e-d2b123e1580c"
        }, {
            "email": "barracuda@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "barracuda"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:14b87b9f-0dcc-471c-8c0e-d2b123e1580c:14b87b9f-0dcc-471c-8c0e-d2b123e1580c"
        }, {
            "email": "carp@zimbratest.example.com",
            "properties": {
                "firstName": "",
                "lastName": "carp"
            },
            "source_type": "zimbra-dl",
            "source_ref": "dl:14b87b9f-0dcc-471c-8c0e-d2b123e1580c:14b87b9f-0dcc-471c-8c0e-d2b123e1580c"
        }]
    }],
    "remaining": {},
    "tags": [{
        "name": "test2",
        "color": "#5B9BF2"
    }, {
        "name": "test",
        "color": "#FDBC55"
    }],
    "timer": "279.0 ms"
}];

var crunchPostMessage = (function() {
    var main = this;
    /*
    * Define model to send
    */
    main.model = {
        "source": "Zimbra",
        "content": {},
        "origin": ""
    };
    /*
    * Children iframe
    */
    var sender = frames[0];
    /*
    * Listener PostMessage
    */
    var eventMethod = window.addEventListener ? "addEventListener" : "attachEvent";
    var eventer = window[eventMethod];
    var messageEvent = eventMethod == "attachEvent" ? "onmessage" : "message";
    /*
    * Post Message to iframe
    */
    var post = function(data) {
        main.model.content = data;
        console.log(main.model);
        var jsonToSend = JSON.stringify(main.model);
        sender.postMessage(jsonToSend, "*");
    };

    eventer("message",function(e) {
        console.log("get postMessage");
        console.log(e);
        var data = JSON.parse(e.data);
        if(data.content.hasOwnProperty("getContacts")) {
            if(data.content.getContacts.hasOwnProperty("asTree") && data.content.getContacts.asTree) {
                post({"contacts" : tree});
            }else {
                //post({"contacts" : contacts});
                post({"contacts" : contacts});
            }
        }
        //com_munchmail_zimlet_HandlerObject
    });

    return {
        post: post
    };

})();
